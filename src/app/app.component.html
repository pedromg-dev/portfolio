<canvas #matrixBg class="animated-bg"></canvas>
<canvas #particlesBg class="animated-bg"></canvas>

<nav #navbar class="navbar">
  <a href="#" class="nav-logo">pedromg-dev</a>
  <div class="nav-right-cluster">

    <div class="nav-links">
      <a href="#sobre-mi" class="nav-link" data-translate-key="navAbout" [class.active]="activeSection === 'sobre-mi'" (click)="closeMobileMenu()">Sobre Mí</a>
      <a href="#experiencia" class="nav-link" data-translate-key="navExperience" [class.active]="activeSection === 'experiencia'" (click)="closeMobileMenu()">Experiencia</a>
      <a href="#proyectos" class="nav-link" data-translate-key="navProjects" [class.active]="activeSection === 'proyectos'" (click)="closeMobileMenu()">Proyectos</a>
    </div>

    <button #langSwitcher class="lang-switcher" (click)="toggleLanguage()">{{ currentLang.toUpperCase() }}</button>

    <button #themeSwitcher class="theme-switcher" (click)="toggleTheme()" aria-label="Cambiar tema">
      <svg class="icon sun-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
        stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" />
      </svg>
      <svg class="icon moon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
        stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z" />
      </svg>
    </button>

    <button #burgerMenu class="burger-menu" (click)="openMobileMenu()" aria-label="Abrir menú">
      <div></div>
      <div></div>
      <div></div>
    </button>
  </div>
</nav>

<div #mobileNav class="mobile-nav" [class.open]="isMobileMenuOpen">
  <button #closeMenuBtn class="close-menu-btn" (click)="closeMobileMenu()" aria-label="Cerrar menú">&times;</button>
  <a href="#sobre-mi" class="mobile-nav-link" data-translate-key="navAbout" [class.active]="activeSection === 'sobre-mi'" (click)="closeMobileMenu()">Sobre Mí</a>
  <a href="#experiencia" class="mobile-nav-link" data-translate-key="navExperience" [class.active]="activeSection === 'experiencia'" (click)="closeMobileMenu()">Experiencia</a>
  <a href="#proyectos" class="mobile-nav-link" data-translate-key="navProjects" [class.active]="activeSection === 'proyectos'" (click)="closeMobileMenu()">Proyectos</a>
</div>

<header class="hero" id="hero">
  <div class="hero-content">
    <h1 class="fade-in" data-translate-key="heroName">Pedro Antonio Moya García</h1>
    <p class="fade-in delay-1" data-translate-key="heroRole">Senior Full-Stack .NET & Blazor Developer</p>
    <p class="hero-subtitle fade-in delay-2" data-translate-key="heroSubtitle">Transformando ideas en soluciones de
      software robustas y eficientes.</p>
    <a href="#proyectos" class="cta-button fade-in delay-3" data-translate-key="heroButton">Ver mis proyectos</a>
    <app-pdf-downloader />

    <div class="hero-socials fade-in delay-4">
      <a href="https://www.linkedin.com/in/pmoyagarcia/" target="_blank" aria-label="LinkedIn">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-6 w-6">
          <path
            d="M20.5 2h-17A1.5 1.5 0 002 3.5v17A1.5 1.5 0 003.5 22h17a1.5 1.5 0 001.5-1.5v-17A1.5 1.5 0 0020.5 2zM8 19H5v-9h3zM6.5 8.25A1.75 1.75 0 118.25 6.5 1.75 1.75 0 016.5 8.25zM19 19h-3v-4.74c0-1.42-.6-1.93-1.38-1.93A1.74 1.74 0 0013 14.19a.66.66 0 000 .14V19h-3v-9h2.9v1.3a3.11 3.11 0 012.7-1.4c1.55 0 3.36.86 3.36 3.66z">
          </path>
        </svg>
      </a>
      <a href="https://github.com/pedromg-dev" target="_blank" aria-label="GitHub">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-6 w-6">
          <path fill-rule="evenodd"
            d="M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.492.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z"
            clip-rule="evenodd"></path>
        </svg>
      </a>
    </div>
  </div>
</header>

<div class="main">

  <section id="sobre-mi" class="sobre-mi-section content-section">
    <div class="sobre-mi-grid">
      <div class="profile-picture-container">
        <img src="https://www.pedromg.dev/assets/images/my-profile-picture.png"
          alt="Foto de Pedro Moya García, desarrollador web en Alicante" class="profile-picture"
          onerror="this.onerror=null;this.src='https://placehold.co/400x400/e4e6e9/1c1e21?text=PMG';">
      </div>
      <div class="sobre-mi-content">
        <h2 class="section-title" data-translate-key="aboutTitle">Sobre Mí</h2>
        <p data-translate-key="aboutP1">
        </p>
        <p data-translate-key="aboutP2">
        </p>
        <div class="skills">
          <h3 data-translate-key="skillsTitle">Habilidades Clave</h3>
          <div class="skills-container">
            <span>.NET</span> <span>C#</span> <span>Blazor</span> <span>Azure</span>
            <span>SQL</span> <span>JavaScript</span> <span>HTML & CSS</span>
          </div>
        </div>
        <div class="contact-form">
          <h3 style="margin-top: 40px; margin-bottom: 20px; color: var(--primary-color); text-shadow: var(--text-glow);"
            data-translate-key="contactTitle">Hablemos</h3>
          <form action="https://formspree.io/f/YOUR_FORM_ID" method="POST">
            <div class="form-group">
              <label for="name" data-translate-key="formName">Nombre</label>
              <input type="text" id="name" name="name" class="form-control" required>
            </div>
            <div class="form-group">
              <label for="email" data-translate-key="formEmail">Email</label>
              <input type="email" id="email" name="email" class="form-control" required>
            </div>
            <div class="form-group">
              <label for="message" data-translate-key="formMessage">Mensaje</label>
              <textarea #messageTextarea id="message" name="message" class="form-control" required [value]="messageTextareaValue"></textarea>
            </div>

            <div class="ai-helper">
              <label for="ai-prompt-input" data-translate-key="aiHelperLabel">¿Necesitas inspiración? Describe tu idea
                en pocas palabras:</label>
              <div class="ai-prompt-group">
                <input #aiPromptInput type="text" id="ai-prompt-input" class="form-control" data-translate-key="aiHelperPlaceholder"
                  [placeholder]="aiPromptPlaceholderText">
                <button #geminiButton type="button" id="gemini-button" (click)="generateMessageWithAI()" [disabled]="geminiButtonDisabled" data-translate-key="aiHelperButton">✨ Ayúdame a escribir</button>
              </div>
              <p #geminiLoader [style.display]="geminiLoaderVisible ? 'block' : 'none'" data-translate-key="aiHelperLoading">Generando borrador con IA...</p>
            </div>
            <button type="submit" class="cta-button" data-translate-key="formButton">Enviar Mensaje</button>
          </form>
        </div>
      </div>
    </div>
  </section>

  <section id="experiencia" class="experience-section content-section">
    <h2 class="section-title" data-translate-key="experienceTitle">Experiencia Laboral</h2>
    <div class="timeline">
      <div class="timeline-item right">
        <div class="timeline-date timeline-date-desktop" data-translate-key="exp5Date"></div>
        <div class="timeline-content">
          <h3 data-translate-key="exp5Title"></h3>
          <span class="timeline-date timeline-date-mobile" data-translate-key="exp5Date"></span>
          <p data-translate-key="exp5Desc"></p>
        </div>
      </div>
      <div class="timeline-item left">
        <div class="timeline-date timeline-date-desktop" data-translate-key="exp1Date"></div>
        <div class="timeline-content">
          <h3 data-translate-key="exp1Title"></h3>
          <span class="timeline-date timeline-date-mobile" data-translate-key="exp1Date"></span>
          <p data-translate-key="exp1Desc"></p>
        </div>
      </div>
      <div class="timeline-item right">
        <div class="timeline-date timeline-date-desktop" data-translate-key="exp2Date"></div>
        <div class="timeline-content">
          <h3 data-translate-key="exp2Title"></h3>
          <span class="timeline-date timeline-date-mobile" data-translate-key="exp2Date"></span>
          <p data-translate-key="exp2Desc"></p>
        </div>
      </div>
      <div class="timeline-item left">
        <div class="timeline-date timeline-date-desktop" data-translate-key="exp3Date"></div>
        <div class="timeline-content">
          <h3 data-translate-key="exp3Title"></h3>
          <span class="timeline-date timeline-date-mobile" data-translate-key="exp3Date"></span>
          <p data-translate-key="exp3Desc"></p>
        </div>
      </div>
      <div class="timeline-item right">
        <div class="timeline-date timeline-date-desktop" data-translate-key="exp4Date"></div>
        <div class="timeline-content">
          <h3 data-translate-key="exp4Title"></h3>
          <span class="timeline-date timeline-date-mobile" data-translate-key="exp4Date"></span>
          <p data-translate-key="exp4Desc"></p>
        </div>
      </div>
    </div>
  </section>

  <section id="proyectos" class="proyectos-section content-section">
    <h2 class="section-title" data-translate-key="projectsTitle">Proyectos Destacados</h2>
    <div class="proyectos-grid">
    </div>
  </section>

  <footer class="footer content-section">
    <div class="footer-content">
      <p data-translate-key="footerMessage"></p>
      <div class="footer-socials">
        </div>
    </div>
  </footer>
</div>